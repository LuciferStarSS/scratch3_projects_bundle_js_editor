/* 1231 */\n (function(module, exports) {\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nvar ArrayBufferStream = function () {\n \n  function ArrayBufferStream(arrayBuffer) {\n    var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arrayBuffer.byteLength;\n    var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n        _ref$_uint8View = _ref._uint8View,\n        _uint8View = _ref$_uint8View === void 0 ? new Uint8Array(arrayBuffer) : _ref$_uint8View;\n    _classCallCheck(this, ArrayBufferStream);\n   \n    this.arrayBuffer = arrayBuffer;\n   \n    this.start = start;\n   \n    this.end = end;\n   \n    this._uint8View = _uint8View;\n   \n    this._position = start;\n  }\n \n  _createClass(ArrayBufferStream, [{\n    key: \"extract\",\n    value: function extract(length) {\n      return new ArrayBufferStream(this.arrayBuffer, this._position, this._position + length, this);\n    }\n   \n  }, {\n    key: \"getLength\",\n    value: function getLength() {\n      return this.end - this.start;\n    }\n   \n  }, {\n    key: \"getBytesAvailable\",\n    value: function getBytesAvailable() {\n      return this.end - this._position;\n    }\n   \n  }, {\n    key: \"readUint8\",\n   \n    value: function readUint8() {\n      var val = this._uint8View[this._position];\n      this._position += 1;\n      return val;\n    }\n   \n  }, {\n    key: \"readUint8String\",\n    value: function readUint8String(length) {\n      var arr = this._uint8View;\n      var str = '';\n      var end = this._position + length;\n      for (var i = this._position; i < end; i++) {\n        str += String.fromCharCode(arr[i]);\n      }\n      this._position += length;\n      return str;\n    }\n   \n  }, {\n    key: \"readInt16\",\n    value: function readInt16() {\n      var val = new Int16Array(this.arrayBuffer, this._position, 1)[0];\n      this._position += 2; \n      return val;\n    }\n   \n  }, {\n    key: \"readUint16\",\n    value: function readUint16() {\n      var val = new Uint16Array(this.arrayBuffer, this._position, 1)[0];\n      this._position += 2; \n      return val;\n    }\n   \n  }, {\n    key: \"readInt32\",\n    value: function readInt32() {\n      var val;\n      if (this._position % 4 === 0) {\n        val = new Int32Array(this.arrayBuffer, this._position, 1)[0];\n      } else {\n        \n        \n        val = new Int32Array(this.arrayBuffer.slice(this._position, this._position + 4))[0];\n      }\n      this._position += 4; \n      return val;\n    }\n   \n  }, {\n    key: \"readUint32\",\n    value: function readUint32() {\n      var val = new Uint32Array(this.arrayBuffer, this._position, 1)[0];\n      this._position += 4; \n      return val;\n    }\n  }, {\n    key: \"position\",\n    get: function get() {\n      return this._position - this.start;\n    }\n   \n    ,\n    set: function set(value) {\n      this._position = value + this.start;\n      return value;\n    }\n  }]);\n  return ArrayBufferStream;\n}();\nmodule.exports = ArrayBufferStream;\n })