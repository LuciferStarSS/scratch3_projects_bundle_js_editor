/* 32 */\n (function(module, __webpack_exports__, __webpack_require__) {\n\"use strict\";\n\nvar src = __webpack_require__(533);\nvar src_default = __webpack_require__.n(src);\n\nvar index_es = __webpack_require__(2);\n\nvar shared_messages = __webpack_require__(65);\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar messages = Object(index_es[\"d\"])({\n  meow: {\n    \"id\": \"gui.defaultProject.meow\",\n    \"defaultMessage\": \"Meow\"\n  },\n  variable: {\n    \"id\": \"gui.defaultProject.variable\",\n    \"defaultMessage\": \"my variable\"\n  }\n});\nmessages = _objectSpread(_objectSpread({}, messages), shared_messages[\"a\"]); \nvar defaultTranslator = function defaultTranslator(msgObj) {\n  return msgObj.defaultMessage;\n};\n/**\n * Generate a localized version of the default project\n * @param {function} translateFunction a function to use for translating the default names\n * @return {object} the project data json for the default project\n */\nvar projectData = function projectData(translateFunction) {\n  var translator = translateFunction || defaultTranslator;\n  return {\n    targets: [{\n      isStage: true,\n      name: 'Stage',\n      variables: {\n        '`jEk@4|i[#Fk?(8x)AV.-my variable': [translator(messages.variable), 0]\n      },\n      lists: {},\n      broadcasts: {},\n      blocks: {},\n      currentCostume: 0,\n      costumes: [{\n        assetId: 'cd21514d0531fdffb22204e0ec5ed84a',\n        name: translator(messages.backdrop, {\n          index: 1\n        }),\n        md5ext: 'cd21514d0531fdffb22204e0ec5ed84a.svg',\n        dataFormat: 'svg',\n        rotationCenterX: 240,\n        rotationCenterY: 180\n      }],\n      sounds: [{\n        assetId: '83a9787d4cb6f3b7632b4ddfebf74367',\n        name: translator(messages.pop),\n        dataFormat: 'wav',\n        format: '',\n        rate: 11025,\n        sampleCount: 258,\n        md5ext: '83a9787d4cb6f3b7632b4ddfebf74367.wav'\n      }],\n      volume: 100\n    }, {\n      isStage: false,\n      name: translator(messages.sprite, {\n        index: 1\n      }),\n      variables: {},\n      lists: {},\n      broadcasts: {},\n      blocks: {},\n      currentCostume: 0,\n      costumes: [{\n        assetId: 'bcf454acf82e4504149f7ffe07081dbc',\n        name: translator(messages.costume, {\n          index: 1\n        }),\n        bitmapResolution: 1,\n        md5ext: 'bcf454acf82e4504149f7ffe07081dbc.svg',\n        dataFormat: 'svg',\n        rotationCenterX: 48,\n        rotationCenterY: 50\n      }, {\n        assetId: '0fb9be3e8397c983338cb71dc84d0b25',\n        name: translator(messages.costume, {\n          index: 2\n        }),\n        bitmapResolution: 1,\n        md5ext: '0fb9be3e8397c983338cb71dc84d0b25.svg',\n        dataFormat: 'svg',\n        rotationCenterX: 46,\n        rotationCenterY: 53\n      }],\n      sounds: [{\n        assetId: '83c36d806dc92327b9e7049a565c6bff',\n        name: translator(messages.meow),\n        dataFormat: 'wav',\n        format: '',\n        rate: 22050,\n        sampleCount: 18688,\n        md5ext: '83c36d806dc92327b9e7049a565c6bff.wav'\n      }],\n      volume: 100,\n      visible: true,\n      x: 0,\n      y: 0,\n      size: 100,\n      direction: 90,\n      draggable: false,\n      rotationStyle: 'all around'\n    }],\n    meta: {\n      semver: '3.0.0',\n      vm: '0.1.0',\n      agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36' \n    }\n  };\n};\n/* harmony default export */ var project_data = (projectData);\n\nvar _83a9787d4cb6f3b7632b4ddfebf74367 = __webpack_require__(534);\nvar _83a9787d4cb6f3b7632b4ddfebf74367_default = __webpack_require__.n(_83a9787d4cb6f3b7632b4ddfebf74367);\n\nvar _83c36d806dc92327b9e7049a565c6bff = __webpack_require__(535);\nvar _83c36d806dc92327b9e7049a565c6bff_default = __webpack_require__.n(_83c36d806dc92327b9e7049a565c6bff);\n\nvar cd21514d0531fdffb22204e0ec5ed84a = __webpack_require__(536);\nvar cd21514d0531fdffb22204e0ec5ed84a_default = __webpack_require__.n(cd21514d0531fdffb22204e0ec5ed84a);\n\nvar bcf454acf82e4504149f7ffe07081dbc = __webpack_require__(537);\nvar bcf454acf82e4504149f7ffe07081dbc_default = __webpack_require__.n(bcf454acf82e4504149f7ffe07081dbc);\n\nvar _0fb9be3e8397c983338cb71dc84d0b25 = __webpack_require__(538);\nvar _0fb9be3e8397c983338cb71dc84d0b25_default = __webpack_require__.n(_0fb9be3e8397c983338cb71dc84d0b25);\n\n/* eslint-disable import/no-unresolved */\n\n/* eslint-enable import/no-unresolved */\nvar default_project_defaultProject = function defaultProject(translator) {\n  var _TextEncoder;\n  if (typeof TextEncoder === 'undefined') {\n    _TextEncoder = __webpack_require__(160).TextEncoder;\n  } else {\n   \n    _TextEncoder = TextEncoder;\n  }\n  var encoder = new _TextEncoder();\n  var projectJson = project_data(translator);\n  return [{\n    id: 0,\n    assetType: 'Project',\n    dataFormat: 'JSON',\n    data: JSON.stringify(projectJson)\n  }, {\n    id: '83a9787d4cb6f3b7632b4ddfebf74367',\n    assetType: 'Sound',\n    dataFormat: 'WAV',\n    data: new Uint8Array(_83a9787d4cb6f3b7632b4ddfebf74367_default.a)\n  }, {\n    id: '83c36d806dc92327b9e7049a565c6bff',\n    assetType: 'Sound',\n    dataFormat: 'WAV',\n    data: new Uint8Array(_83c36d806dc92327b9e7049a565c6bff_default.a)\n  }, {\n    id: 'cd21514d0531fdffb22204e0ec5ed84a',\n    assetType: 'ImageVector',\n    dataFormat: 'SVG',\n    data: encoder.encode(cd21514d0531fdffb22204e0ec5ed84a_default.a)\n  }, {\n    id: 'bcf454acf82e4504149f7ffe07081dbc',\n    assetType: 'ImageVector',\n    dataFormat: 'SVG',\n    data: encoder.encode(bcf454acf82e4504149f7ffe07081dbc_default.a)\n  }, {\n    id: '0fb9be3e8397c983338cb71dc84d0b25',\n    assetType: 'ImageVector',\n    dataFormat: 'SVG',\n    data: encoder.encode(_0fb9be3e8397c983338cb71dc84d0b25_default.a)\n  }];\n};\n/* harmony default export */ var default_project = (default_project_defaultProject);\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/**\n * Wrapper for ScratchStorage which adds default web sources.\n * @todo make this more configurable\n */\nvar storage_Storage = function (_ScratchStorage) {\n  _inherits(Storage, _ScratchStorage);\n  var _super = _createSuper(Storage);\n  function Storage() {\n    var _this;\n    _classCallCheck(this, Storage);\n    _this = _super.call(this);\n    _this.cacheDefaultProject();\n    return _this;\n  }\n  _createClass(Storage, [{\n    key: \"addOfficialScratchWebStores\",\n    value: function addOfficialScratchWebStores() {\n      this.addWebStore([this.AssetType.Project], this.getProjectGetConfig.bind(this), this.getProjectCreateConfig.bind(this), this.getProjectUpdateConfig.bind(this));\n      this.addWebStore([this.AssetType.ImageVector, this.AssetType.ImageBitmap, this.AssetType.Sound], this.getAssetGetConfig.bind(this), \n      \n      \n      this.getAssetCreateConfig.bind(this), this.getAssetCreateConfig.bind(this));\n      this.addWebStore([this.AssetType.Sound], function (asset) {\n        return \"static/extension-assets/scratch3_music/\".concat(asset.assetId, \".\").concat(asset.dataFormat);\n      });\n    }\n  }, {\n    key: \"setProjectHost\",\n    value: function setProjectHost(projectHost) {\n      this.projectHost = projectHost;\n    }\n  }, {\n    key: \"getProjectGetConfig\",\n    value: function getProjectGetConfig(projectAsset) {\n      return \"\".concat(this.projectHost, \"\").concat(projectAsset.assetId);//文件路径\n    }\n  }, {\n    key: \"getProjectCreateConfig\",\n    value: function getProjectCreateConfig() {\n      return {\n        url: \"\".concat(this.projectHost, \"/\"),\n        withCredentials: true\n      };\n    }\n  }, {\n    key: \"getProjectUpdateConfig\",\n    value: function getProjectUpdateConfig(projectAsset) {\n      return {\n        url: \"\".concat(this.projectHost, \"\").concat(projectAsset.assetId),\n        withCredentials: true\n      };\n    }\n  }, {\n    key: \"setAssetHost\",\n    value: function setAssetHost(assetHost) {\n      this.assetHost = assetHost;\n    }\n  }, {\n    key: \"getAssetGetConfig\",\n    value: function getAssetGetConfig(asset) {\n      return \"\".concat(this.assetHost, \"./static/asset/\"    ).concat(asset.assetId, \".\").concat(asset.dataFormat, \"\");\n    }\n  }, {\n    key: \"getAssetCreateConfig\",\n    value: function getAssetCreateConfig(asset) {\n      return {\n        \n        \n        \n        \n        method: 'post',\n        url: \"\".concat(this.assetHost, \"/\").concat(asset.assetId, \".\").concat(asset.dataFormat),\n        withCredentials: true\n      };\n    }\n  }, {\n    key: \"setTranslatorFunction\",\n    value: function setTranslatorFunction(translator) {\n      this.translator = translator;\n      this.cacheDefaultProject();\n    }\n  }, {\n    key: \"cacheDefaultProject\",\n    value: function cacheDefaultProject() {\n      var _this2 = this;\n      var defaultProjectAssets = default_project(this.translator);\n      defaultProjectAssets.forEach(function (asset) {\n        return _this2.builtinHelper._store(_this2.AssetType[asset.assetType], _this2.DataFormat[asset.dataFormat], asset.data, asset.id);\n      });\n    }\n  }]);\n  return Storage;\n}(src_default.a);\nvar storage = new storage_Storage();\n/* harmony default export */ var lib_storage = __webpack_exports__[\"a\"] = (storage);\n })