/* 1092 */\n (function(module, exports, __webpack_require__) {\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nvar Cast = __webpack_require__(48);\nvar Scratch3DataBlocks = function () {\n  function Scratch3DataBlocks(runtime) {\n    _classCallCheck(this, Scratch3DataBlocks);\n   \n    this.runtime = runtime;\n  }\n \n  _createClass(Scratch3DataBlocks, [{\n    key: \"getPrimitives\",\n    value: function getPrimitives() {\n      return {\n        data_variable: this.getVariable,\n        data_setvariableto: this.setVariableTo,\n        data_changevariableby: this.changeVariableBy,\n        data_hidevariable: this.hideVariable,\n        data_showvariable: this.showVariable,\n        data_listcontents: this.getListContents,\n        data_addtolist: this.addToList,\n        data_deleteoflist: this.deleteOfList,\n        data_deletealloflist: this.deleteAllOfList,\n        data_insertatlist: this.insertAtList,\n        data_replaceitemoflist: this.replaceItemOfList,\n        data_itemoflist: this.getItemOfList,\n        data_itemnumoflist: this.getItemNumOfList,\n        data_lengthoflist: this.lengthOfList,\n        data_listcontainsitem: this.listContainsItem,\n        data_hidelist: this.hideList,\n        data_showlist: this.showList\n      };\n    }\n  }, {\n    key: \"getVariable\",\n    value: function getVariable(args, util) {\n      var variable = util.target.lookupOrCreateVariable(args.VARIABLE.id, args.VARIABLE.name);\n      return variable.value;\n    }\n  }, {\n    key: \"setVariableTo\",\n    value: function setVariableTo(args, util) {\n      var variable = util.target.lookupOrCreateVariable(args.VARIABLE.id, args.VARIABLE.name);\n      variable.value = args.VALUE;\n      if (variable.isCloud) {\n        util.ioQuery('cloud', 'requestUpdateVariable', [variable.name, args.VALUE]);\n      }\n    }\n  }, {\n    key: \"changeVariableBy\",\n    value: function changeVariableBy(args, util) {\n      var variable = util.target.lookupOrCreateVariable(args.VARIABLE.id, args.VARIABLE.name);\n      var castedValue = Cast.toNumber(variable.value);\n      var dValue = Cast.toNumber(args.VALUE);\n      var newValue = castedValue + dValue;\n      variable.value = newValue;\n      if (variable.isCloud) {\n        util.ioQuery('cloud', 'requestUpdateVariable', [variable.name, newValue]);\n      }\n    }\n  }, {\n    key: \"changeMonitorVisibility\",\n    value: function changeMonitorVisibility(id, visible) {\n      \n      \n      this.runtime.monitorBlocks.changeBlock({\n        id: id,\n        \n        element: 'checkbox',\n        \n        value: visible\n      }, this.runtime);\n    }\n  }, {\n    key: \"showVariable\",\n    value: function showVariable(args) {\n      this.changeMonitorVisibility(args.VARIABLE.id, true);\n    }\n  }, {\n    key: \"hideVariable\",\n    value: function hideVariable(args) {\n      this.changeMonitorVisibility(args.VARIABLE.id, false);\n    }\n  }, {\n    key: \"showList\",\n    value: function showList(args) {\n      this.changeMonitorVisibility(args.LIST.id, true);\n    }\n  }, {\n    key: \"hideList\",\n    value: function hideList(args) {\n      this.changeMonitorVisibility(args.LIST.id, false);\n    }\n  }, {\n    key: \"getListContents\",\n    value: function getListContents(args, util) {\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name); \n      if (util.thread.updateMonitor) {\n        \n        if (list._monitorUpToDate) return list.value; \n        \n        list._monitorUpToDate = true;\n        return list.value.slice();\n      } \n      \n      \n      var allSingleLetters = true;\n      for (var i = 0; i < list.value.length; i++) {\n        var listItem = list.value[i];\n        if (!(typeof listItem === 'string' && listItem.length === 1)) {\n          allSingleLetters = false;\n          break;\n        }\n      }\n      //if (allSingleLetters) {\n      \n      //}\n      return list.value.join(' ');\n    }\n  }, {\n    key: \"addToList\",\n    value: function addToList(args, util) {\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name);\n      if (list.value.length < Scratch3DataBlocks.LIST_ITEM_LIMIT) {\n        list.value.push(args.ITEM);\n        list._monitorUpToDate = false;\n      }\n    }\n  }, {\n    key: \"deleteOfList\",\n    value: function deleteOfList(args, util) {\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name);\n      var index = Cast.toListIndex(args.INDEX, list.value.length, true);\n      if (index === Cast.LIST_INVALID) {\n        return;\n      } else if (index === Cast.LIST_ALL) {\n        list.value = [];\n        return;\n      }\n      list.value.splice(index - 1, 1);\n      list._monitorUpToDate = false;\n    }\n  }, {\n    key: \"deleteAllOfList\",\n    value: function deleteAllOfList(args, util) {\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name);\n      list.value = [];\n      return;\n    }\n  }, {\n    key: \"insertAtList\",\n    value: function insertAtList(args, util) {\n      var item = args.ITEM;\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name);\n      var index = Cast.toListIndex(args.INDEX, list.value.length + 1, false);\n      if (index === Cast.LIST_INVALID) {\n        return;\n      }\n      var listLimit = Scratch3DataBlocks.LIST_ITEM_LIMIT;\n      if (index > listLimit) return;\n      list.value.splice(index - 1, 0, item);\n      if (list.value.length > listLimit) {\n        \n        \n        list.value.pop();\n      }\n      list._monitorUpToDate = false;\n    }\n  }, {\n    key: \"replaceItemOfList\",\n    value: function replaceItemOfList(args, util) {\n      var item = args.ITEM;\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name);\n      var index = Cast.toListIndex(args.INDEX, list.value.length, false);\n      if (index === Cast.LIST_INVALID) {\n        return;\n      }\n      list.value[index - 1] = item;\n      list._monitorUpToDate = false;\n    }\n  }, {\n    key: \"getItemOfList\",\n    value: function getItemOfList(args, util) {\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name);\n      var index = Cast.toListIndex(args.INDEX, list.value.length, false);\n      if (index === Cast.LIST_INVALID) {\n        return '';\n      }\n      return list.value[index - 1];\n    }\n  }, {\n    key: \"getItemNumOfList\",\n    value: function getItemNumOfList(args, util) {\n      var item = args.ITEM;\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name); \n      \n      \n      for (var i = 0; i < list.value.length; i++) {\n        if (Cast.compare(list.value[i], item) === 0) {\n          return i + 1;\n        }\n      } \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      return 0;\n    }\n  }, {\n    key: \"lengthOfList\",\n    value: function lengthOfList(args, util) {\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name);\n      return list.value.length;\n    }\n  }, {\n    key: \"listContainsItem\",\n    value: function listContainsItem(args, util) {\n      var item = args.ITEM;\n      var list = util.target.lookupOrCreateList(args.LIST.id, args.LIST.name);\n      if (list.value.indexOf(item) >= 0) {\n        return true;\n      } \n      \n      for (var i = 0; i < list.value.length; i++) {\n        if (Cast.compare(list.value[i], item) === 0) {\n          return true;\n        }\n      }\n      return false;\n    }\n   \n  }], [{\n    key: \"LIST_ITEM_LIMIT\",\n    get: function get() {\n      return 200000;\n    }\n  }]);\n  return Scratch3DataBlocks;\n}();\nmodule.exports = Scratch3DataBlocks;\n })